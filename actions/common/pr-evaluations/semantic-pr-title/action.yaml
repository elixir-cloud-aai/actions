---
name: Semantic PR Check
description: Checks if the PR title follows semantic guidelines.

runs:
  using: composite
  steps:
    - name: Check if the PR title is semantic
      uses: amannn/action-semantic-pull-request@v5
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      with:
        types: |
          fix
          feat
          docs
          style
          refactor
          perf
          test
          build
          ci
          chore
          revert
        subjectPattern: ^(?![A-Z])(?=.{1,50}$).+$
        subjectPatternError: |
          The subject "{subject}" found in the pull request title "{title}"
          didn't match the configured pattern. Please ensure that the subject
          doesn't start with an uppercase character & not have more than 50
          characters.

    - name: Check length of PR title
      shell: bash
      run: |
        PR_TITLE="${{ github.event.pull_request.title }}"
        if [ ${#PR_TITLE} -gt 50 ]; then
          echo "The PR title is too long. Please keep it under 50 characters."
          exit 1
        fi
...